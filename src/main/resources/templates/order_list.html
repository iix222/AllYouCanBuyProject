<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    </head>
<body>
<div class="card weather-widget bg-light p-3">
    <div class="card-body">
        <h5 class="card-title text-center">Weather Widget</h5>
        <div class="weather-info">
            <div class="location text-center"></div>
            <div class="temperature text-center"></div>
            <div class="description text-center"></div>
        </div>
    </div>
</div>

</body>
<script>
    // Select current location
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(fetchWeatherData);
    }

    // Receive the data
    function fetchWeatherData(position) {
        const { latitude, longitude } = position.coords;
        const apiKey = '3c3753ca3da20a82c5cfbbb73968f323'; // Replace with your OpenWeatherMap API key

        const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric`;

        fetch(weatherUrl)
            .then(response => response.json())
            .then(data => {
                displayWeatherData(data);
            })
            .catch(error => {
                console.log('Error fetching weather data:', error);
            });
    }

    // Display it
    function displayWeatherData(data) {
        const locationElement = document.querySelector('.location');
        const temperatureElement = document.querySelector('.temperature');
        const descriptionElement = document.querySelector('.description');

        locationElement.textContent = data.name + ', ' + data.sys.country;
        temperatureElement.textContent = Math.round(data.main.temp) + ' Celcius';
        descriptionElement.textContent = data.weather[0].description;
    }
</script>
</head>
<body>

</body>
</html>